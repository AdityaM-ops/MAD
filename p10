import 'package:flutter/material.dart';

void main() => runApp(MyApp());
class MyApp extends StatelessWidget{
  Widget build(BuildContext context){
    return MaterialApp(home: HistoryCounter());
  }
}

class HistoryCounter extends StatefulWidget {
  @override
  _HistoryCounterState createState() => _HistoryCounterState();
}

class _HistoryCounterState extends State<HistoryCounter> {
  int count = 0;
  List<int> history = [0];

  void change(int val) => setState(() {
    count += val;
    history.add(count);
  });

  @override
  Widget build(BuildContext context) => Scaffold(
    appBar: AppBar(title: Text("Counter History")),
    body: Column(
      children: [
        Text('Current: $count', style: TextStyle(fontSize: 24)),
        Row(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            ElevatedButton(onPressed: () => change(1), child: Text("++")),
            SizedBox(width: 10),
            ElevatedButton(onPressed: () => change(-1), child: Text("--")),
          ],
        ),
        Text("History:"),
        Expanded(
          child: ListView.builder(
            itemCount: history.length,
            itemBuilder: (_, i) => ListTile(title: Text("Value: ${history[i]}")),
          ),
        )
      ],
    ),
  );
}


